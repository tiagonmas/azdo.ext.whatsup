<!DOCTYPE html>
 <html xmlns="http://www.w3.org/1999/xhtml">
 <head>
	<script type="text/javascript">
		var sdkInstance="appInsightsSDK";window[sdkInstance]="appInsights";var aiName=window[sdkInstance],aisdk=window[aiName]||function(e){function n(e){t[e]=function(){var n=arguments;t.queue.push(function(){t[e].apply(t,n)})}}var t={config:e};t.initialize=!0;var i=document,a=window;setTimeout(function(){var n=i.createElement("script");n.src=e.url||"https://az416426.vo.msecnd.net/scripts/b/ai.2.min.js",i.getElementsByTagName("script")[0].parentNode.appendChild(n)});try{t.cookie=i.cookie}catch(e){}t.queue=[],t.version=2;for(var r=["Event","PageView","Exception","Trace","DependencyData","Metric","PageViewPerformance"];r.length;)n("track"+r.pop());n("startTrackPage"),n("stopTrackPage");var s="Track"+r[0];if(n("start"+s),n("stop"+s),n("setAuthenticatedUserContext"),n("clearAuthenticatedUserContext"),n("flush"),!(!0===e.disableExceptionTracking||e.extensionConfig&&e.extensionConfig.ApplicationInsightsAnalytics&&!0===e.extensionConfig.ApplicationInsightsAnalytics.disableExceptionTracking)){n("_"+(r="onerror"));var o=a[r];a[r]=function(e,n,i,a,s){var c=o&&o(e,n,i,a,s);return!0!==c&&t["_"+r]({message:e,url:n,lineNumber:i,columnNumber:a,error:s}),c},e.autoExceptionInstrumented=!0}return t}(
		{
			instrumentationKey:"194d3246-dd2b-4030-b053-80ea7b3f8c1e"
		}
		);window[aiName]=aisdk,aisdk.queue&&0===aisdk.queue.length&&aisdk.trackPageView({});
		</script>
	<script src="lib/VSS.SDK.min.js"></script>
	
	<script src="main.js"></script>
	<script src="feed.js"></script>

	<link rel="stylesheet" type="text/css"href="azdo.css"/>
	<link rel="stylesheet" type="text/css" href="https://cdn.vsassets.io/v/M159_20191103.2/_ext/ms.vss-features/ui-hub-content/ms.vss-features.ui-hub-content.min.css"/>
	<link rel="stylesheet" type="text/css" href="https://cdn.vsassets.io/v/M159_20191105.2/_ext/ms.vss-features/ui-core-content/ms.vss-features.ui-core-content.min.css" />
	<link rel="stylesheet"  type="text/css" href="https://cdn.vsassets.io/v/M159_20191103.2/_ext/ms.vss-features/ui-filterbar-content/ms.vss-features.ui-filterbar-content.min.css"/>

 </head>
<body style="overflow: visible;" onload="pageLoaded()">    
<div id="maincontent">
		
	<h1 class="vss-HubTitle"><div class="vss-HubTitle--titleText">Latest updates on the work items you're following <i class="ms-Icon ms-Icon--Feedback" aria-hidden="true"></i></div></h1>
	<div id="headbox"  class="vss-FilterBar" style="visibility: hidden;">

			<div class="rTable">
					<div class="rTableRow">
						<div class="rTableHead">Author</div>
						<div class="rTableHead">Load items from</div>
						<div class="rTableHead">Show items updated since</div>
						<div class="rTableHead">View</div>
					</div>
					<div class="rTableRow">
						<div class="rTableCell leftcolumn">
							<div class="contributors">
			
									<!--START Contributors TEMPLATE-->
									<script type="text/template" data-template="contributorsTemplate">
										<button class="avatar-button cursor-hover-card" id="${uniqueName}" onClick="filterByContributor_click(this.id)"><img class="avatar-button-image" src="${image}" alt="${name}" title="${name}"></button>
									</script>
									<!--End Contributors Template-->
									<span id="contributors">
											<button class="avatar-button cursor-hover-card" id="resetToAll" onClick="filterByContributor_click(this.id)">
													<i class="ms-Icon ms-Icon--ClearFilter" aria-hidden="true"></i>													
											</button>
									</span>
									</div>
						</div>
						<div class="rTableCell centercolumn" >
							<input type="radio"  checked="checked" name="source" value="source_following" id="source_following" onchange="onchangeSource(this)"><A HREF="https://docs.microsoft.com/en-us/azure/devops/boards/work-items/follow-work-items?view=azure-devops" TARGET="_blank">Items you're following</A></input>
							<br><input type="radio" name="source" value="source_query" id="source_query" onchange="onchangeSource(this)"><a href="https://stackoverflow.com/questions/46272287/vsts-get-id-of-stored-queries" target="_blank">Query id</a></input>&nbsp;<input type="text" id="queryId"></input>
							<br><button type="button" onclick="onSaveQueryId()">Save preference and refresh</button>
							
						</div>
						<div class="rTableCell centercolumn" >
							<select id="dateFilter" onchange="onchangeDateFilter(this.value)">
							<option value='one'>Last 24h</option>
							<option value='seven'>A week ago</option>
							<option value='month'>A month ago</option>
							<option value='all'>I was born</option>
							</select>
							<br/>&nbsp;
							<div id="feedbackContainer"><a href="https://github.com/tiagonmas/azdo.ext.whatsup/issues"  target="_blank">Feedback</a></div>
						</div>
						<div class="rTableCell rightcolumn">
							<select id="filterSelection" onchange="onchangeShowFilter(this.value)" style="align-content:flex-end ;">
									<option value="somefields">only most important updates</option>
									<option value="all">all field changes and comments</option>
									<option value="comments">only comments and no field changes</option>
								</select>
							<br/>&nbsp;
							<br/>&nbsp;
							<div id="versionContainer"> <a href="https://marketplace.visualstudio.com/manage/publishers/tiagoandradeesilva" target="_blank">Version <span id="version"></span></a></div>
						</div>
					</div>

			</div>

	</div>
	<div id="myProgress">
			<div id="myBar">Loading: 0%</div>
		  </div>

	<div class="error" id="errorDiv" style="visibility: hidden;">This is an error message</div> 

	<div id="nocontent" style="visibility: hidden;">
		<h2>Welcome!</h2>
		<br>Here you'll see a feed of the changes in the work items you're following or based on a query you selected (and based on filters above). There is nothing to show for now. 
		Click the "Follow" button on your favorite work items and come back to this page to see their updates, or change the "Load items updated since" filter, or set up a query as the source of the items to load.
		<p>How to follow a work item:</p>
		<br><img src="https://docs.microsoft.com/en-us/azure/devops/boards/work-items/_img/follow-work/follow-work-item.png?view=azure-devops"/>
		<p>More information: <A href="https://docs.microsoft.com/en-us/azure/devops/boards/work-items/follow-work-items?view=azure-devops">Tutorial: Follow a user story, bug, issue, or other work item or pull request</A>
	</div>
	<div class="discussion-messages-container">
		<div class="discussion-messages">
			<div class="comments-section">
				<div>
					<div id="list-comment-items"></div>
					<!--START COMMENT TEMPLATE-->
					<script type="text/template" data-template="commentTemplate">
						<div class="wit-comment-item ${revisedBy.uniqueName}" >
							<div class="comment-item-left">
								<button class="avatar-button cursor-hover-card"><img class="avatar-button-image" src="${revisedBy.imageUrl}" alt="${revisedBy.displayName}"></button>
							</div>
							<div class="comment-item-right">
								<div class="wit-comment-viewer">
									<div class="comment-header"><div class="comment-header-left"><span class="user-display-name">${revisedBy.displayName}</span>
										<div class="ms-TooltipHost host_74a2b74b"><span class="comment-timestamp">commented ${datePassedDesc} regarding </span><span class="user-display-name"><a href="${workItemURL}" target="_blank">${title}</A></span></div></div>
										<div class="comment-header-right"><div class="comment-toolbar" role="menubar">
											<!-- <div class="comment-reaction-button comment-toolbar-reaction-button bolt-expandable-button inline-flex-row">
												<button aria-expanded="false" aria-haspopup="true" aria-label="Add your reaction" aria-setsize="1" aria-posinset="1" class="icon-only bolt-button bolt-icon-button enabled subtle icon-only bolt-focus-treatment" data-focuszone="focuszone-3" data-is-focusable="true" role="menuitem" tabindex="0" type="button">
												<span aria-hidden="true" class="left-icon flex-noshrink fabric-icon ms-Icon--AddReaction medium"></span></button>
												</div> -->
										</div></div>
									</div>
									<div class="comment-content" data-comment-id="${id}">
										<div>${fields["System.History"].newValue}</div>
									</div>
								</div>
							</div>
						</div>
					</script>
					<!--END COMMENT TEMPLATE-->
					<!--START FIELDS TEMPLATE-->
					<script type="text/template" data-template="fieldsTemplate">
						<div class="wit-comment-item showHideFields ${revisedBy.uniqueName}">
							<div class="comment-item-left">
								<button class="avatar-button cursor-hover-card"><img class="avatar-button-image" src="${revisedBy.imageUrl}" alt="${revisedBy.displayName}"></button>
							</div>
							<div class="comment-item-right">
								<div class="wit-comment-viewer">
									<div class="comment-header"><div class="comment-header-left"><span class="user-display-name">${revisedBy.displayName}</span>
										<div class="ms-TooltipHost host_74a2b74b"><span class="comment-timestamp">changed fields ${datePassedDesc} regarding </span><span class="user-display-name"><a href="${workItemURL}"  target="_blank">${title}</A></span></div></div>
										<div class="comment-header-right"><div class="comment-toolbar" role="menubar">
										<!-- <div class="comment-reaction-button comment-toolbar-reaction-button bolt-expandable-button inline-flex-row">
											<button aria-expanded="false" aria-haspopup="true" aria-label="Add your reaction" aria-setsize="1" aria-posinset="1" class="icon-only bolt-button bolt-icon-button enabled subtle icon-only bolt-focus-treatment" data-focuszone="focuszone-3" data-is-focusable="true" role="menuitem" tabindex="0" type="button"> 
											<span aria-hidden="true" class="left-icon flex-noshrink fabric-icon ms-Icon--AddReaction medium"></span></button>
											</div> -->
										</div></div>
									</div>
									<div class="comment-content" data-comment-id="${id}">
										<div>${fieldsChangedHTML}</div>
									</div>
								</div>
							</div>
						</div>
					</script>
					<!--END FIELDS TEMPLATE-->
				</div>
				</div>
			</div>
		</div>
	</div>
</div>
 </body>
 </html>